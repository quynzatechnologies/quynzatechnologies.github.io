<!DOCTYPE html>
<html lang="es">

<head>
    <script src="/js/load_html_created.js" defer></script>
    <script src="/js/logout_iot.js" defer></script>
    <script src="//code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/Counter-Up/1.0/jquery.counterup.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-parallax/1.1.3/jquery-parallax.js"></script>
    <script src="/js/front.js"></script>
    <script src="/js/owl.carousel.min.js"></script>
    
    <title>Ejercicio 3: Crear red WiFi</title>
</head>

<body>
    <div id="all">
        <header id="header-comm-container"></header>

        <header id="header-nav-main-container"></header>

        <main>
			<div id="aside-nav-curso-iot-container"></div>

            <div class="content">
                <section>
                    <div id="heading-breadcrumbs">
                        <div class="container">
                            <div class="row">
                                <div class="col-md-12">
                                    <h1>Ejercicio 3: Crear red WiFi</h1>
                                    <button id="cerrar-sesion" class="btn btn-neutral float-right" onclick="cerrarSesion()">Cerrar sesión</button>
								</div>
                            </div>
                        </div>
                    </div>

                    <div role="navegation" arial-label="Page navigation">
                        <ul class="wy-breadcrumbs">
                            <li class="wy-li">
                                <a href="/products/curso_iot/contenido/index.html">Inicio</a>
                            </li>
                            <li class="wy-li">
                                <a href="/products/curso_iot/contenido/clases/index.html">Clases y Actividades Prácticas</a>
                            </li>
                            <li class="wy-li">
                                <a href="/products/curso_iot/contenido/clases/ejercicios_basicos/index.html">Ejercicios básicos comunicación ESP32</a>
                            </li>
                            <li class="wy-li">
                                <a href="/products/curso_iot/contenido/clases/ejercicios_basicos/ejercicio_3.html" class="not-active">Ejercicio 3: Crear red WiFi</a>
                            </li>
                        </ul>
                        <hr>
                    </div>
                </section>
            
                <section>
                    <div id="content">
                        <div class="container" id="contact">
                            <div class="row">
                                <div class="col-md-8">
                                    <section>
                                        <h1>Descripción</h1>
                                        <p> Usando Micropython, con el <strong>Ejercicio 3: Crear red WiFi</strong> se va a aprender a crear y configurar una red WiFi desde el ESP32
                                            donde otros dispositivos pueden conectarse.
                                        </p>

                                        <p> Para este ejercicio se necesita el <a href="/products/entrenadoresp32/index.html">Entrenador ESP32</a>, el cual puede ser adquirido en este link al mejor precio!
                                        </p>

                                        <p style="text-align:center;">
                                            <img src="/img/entrenador_esp32.jpg" width ="608" height="auto">
                                        </p>

                                        <h1>Código</h1>
                                        <p>Para este ejercicio se necesitará el archivo:</p>
                                        <ul>
                                            <li><strong>main.py</strong>: Script principal que contiene el código para crear la red WiFi.</li>
                                        </ul>

                                        <h2>main.py</h2>
                                        <p>Se debe crear el archivo <strong>main.py</strong> que contiene el siguiente código:
                                        </p>
                                        
<div style="background: #eeeedd; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;">
<pre style="margin: 0; line-height: 125%"><span style="color: #8B008B; font-weight: bold">from</span> <span style="color: #008b45; text-decoration: underline">machine</span> <span style="color: #8B008B; font-weight: bold">import</span> Pin
<span style="color: #8B008B; font-weight: bold">import</span> <span style="color: #008b45; text-decoration: underline">network</span>

p2 = Pin(<span style="color: #B452CD">2</span>, Pin.OUT)

ap = network.WLAN(network.AP_IF) <span style="color: #228B22"># create access-point interface</span>
ap.active(<span style="color: #658b00">True</span>)         <span style="color: #228B22"># Desactivate the interface</span>
ap.config(essid=<span style="color: #CD5555">&#39;XXX&#39;</span>, channel = <span style="color: #B452CD">11</span>, authmode = <span style="color: #B452CD">3</span>, password = <span style="color: #CD5555">&#39;YYY&#39;</span>)
ap.config(max_clients=<span style="color: #B452CD">10</span>) <span style="color: #228B22"># set how many clients can connect to the network</span>

<span style="color: #8B008B; font-weight: bold">def</span> <span style="color: #008b45">printClients</span>():
    clients = ap.status(<span style="color: #CD5555">&#39;stations&#39;</span>)

    <span style="color: #8B008B; font-weight: bold">if</span> <span style="color: #658b00">len</span>(clients) &gt; <span style="color: #B452CD">0</span>:
        p2.on()
    <span style="color: #8B008B; font-weight: bold">else</span>:
        p2.off()

<span style="color: #8B008B; font-weight: bold">while</span> <span style="color: #658b00">True</span>:
    printClients()
</pre>
</div>
    
                                        <p>Este programa estará continuamente monitoreando la conexión a la red WiFi del ESP32, y cuando al menos un dispositivo esté conectado exitosamente se va a encender el LED conectado a la placa ESP32.
                                        </p>
                                    </section>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <footer>
                    <hr>
                    <div role="navegation" arial-label="Button navigation">
                        <a href="/products/curso_iot/contenido/clases/ejercicios_basicos/ejercicio_2.html" class="btn btn-neutral float-left" title="Ejercicio 2: Conectarse a red WiFi" accesskey="p" rel="prev">
                            <span class="fa fa-arrow-circle-left" aria-hidden="true"></span>
                            Anterior
                        </a>
                        <a href="/products/curso_iot/contenido/clases/ejercicios_basicos/ejercicio_4.html" class="btn btn-neutral float-right" title="Ejercicio 4: Crear servidor web en ESP32 e interfaz web" accesskey="n" rel="next">
                            <span class="fa fa-arrow-circle-right" aria-hidden="true"></span>
                            Siguiente
                        </a>
                    </div>
                </footer>
            </div>
        </main>

        <footer class="footer" id="footer-main-container"></footer>

        <div class="copyright" id="footer-copyright-container"></div>
    </div>
</body>
</html>
